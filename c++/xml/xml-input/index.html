<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.21.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Input files: Reading XML - Parresia Simulations</title>
<meta name="description" content="Read XML in C++">


  <meta name="author" content="Biswajit Banerjee">
  
  <meta property="article:author" content="Biswajit Banerjee">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Parresia Simulations">
<meta property="og:title" content="Input files: Reading XML">
<meta property="og:url" content="https://bbanerjee.github.io/ParSim/c++/xml/xml-input/">


  <meta property="og:description" content="Read XML in C++">







  <meta property="article:published_time" content="2017-02-14T22:30:00+13:00">





  

  


<link rel="canonical" href="https://bbanerjee.github.io/ParSim/c++/xml/xml-input/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Biswajit Banerjee",
      "url": "https://bbanerjee.github.io/ParSim/"
    
  }
</script>






<!-- end _includes/seo.html -->


<link href="/ParSim/feed.xml" type="application/atom+xml" rel="alternate" title="Parresia Simulations Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/ParSim/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<link rel="stylesheet" href="https://bbanerjee.github.io/ParSim/assets/css/parresia.css">

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <script type="text/javascript"
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_HTMLorMML">
  </script>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/ParSim/"><img src="/ParSim/assets/img/ParresiaLogoSep2017_plain.png" alt=""></a>
        
        <a class="site-title" href="/ParSim/">
          Parresia Simulations
          <span class="site-subtitle">Parallel particle and finite element simulation</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/ParSim/docs/articles/">Blog articles</a>
            </li><li class="masthead__menu-item">
              <a href="/ParSim/docs/parsim/">ParSim software</a>
            </li><li class="masthead__menu-item">
              <a href="/ParSim/docs/material-data/">Material data</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Biswajit Banerjee</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>PhD Mechanical Engineering</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Auckland, NZ</span>
        </li>
      

      
        
          
            <li><a href="mailto:b.banerjee.nz@gmail.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span></a></li>
          
        
          
        
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Input files: Reading XML">
    <meta itemprop="description" content="Mechanics research codes are typically written by graduate students who aimto get their work done as quickly as possible.  These codes are not meant to last beyond the publication of a few related papers.">
    <meta itemprop="datePublished" content="2017-02-14T22:30:00+13:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Input files: Reading XML
</h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          14 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> Contents</h4></header>
              <ul class="toc__menu">
  <li><a href="#the-problem">The problem</a></li>
  <li><a href="#the-xml-approach">The XML Approach</a></li>
  <li><a href="#reading-xml">Reading XML</a></li>
</ul>

            </nav>
          </aside>
        
        <p>Mechanics research codes are typically written by graduate students who aim
to get their work done as quickly as possible.  These codes are not meant 
to last beyond the publication of a few related papers.
<!--more--></p>

<p>As a result, typical input files have the form</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   0.000000e+00   <span class="nt">-1</span>.000000e+00   0.000000e+00   100   1   50
   6
   1 0
   1 <span class="nt">-1</span> 0 0 0 0 25
   1 0
   2 1 0 0 100 0 25
   1 0
   3 0 <span class="nt">-1</span> 0 50 <span class="nt">-1</span> 25
   1 0
   4 0 1 0 50 1 25
   1 0
   5 0 0 <span class="nt">-1</span> 50 0 0
   1 0
   6 0 0 1 50 0 50
</code></pre></div></div>

<p>These files have the advantage that they can be read in quickly using an input 
file stream and the code for doing that can be written in minutes.</p>

<h5 id="the-problem">The problem</h5>
<p>But sometimes these code last beyond the tenure of the student, and some other
person (or the student her/himself) has to try to understand the format of the 
input file.  That process can take hours and sometimes days, especially if the
format has not been docsumented and the next person has to dig into the code to 
understand what each of the numbers means.</p>

<h5 id="the-xml-approach">The XML Approach</h5>
<p>One potential approach is to use XML to mark-up the input file which 
can be transformed into:</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml">  <span class="cp">&lt;?xml version='1.0' encoding='ISO-8859-1' ?&gt;</span>
  <span class="nt">&lt;Boundary&gt;</span>
    <span class="c">&lt;!-- Container limits --&gt;</span>
    <span class="nt">&lt;containerMin&gt;</span>  [0.0,  -1.0,  0.0] <span class="nt">&lt;/containerMin&gt;</span>
    <span class="nt">&lt;containerMax&gt;</span>  [100.0, 1.0, 50.0] <span class="nt">&lt;/containerMax&gt;</span>
    <span class="c">&lt;!-- Internal boundaries --&gt;</span>
    <span class="nt">&lt;boundary</span> <span class="na">type=</span><span class="s">"plane"</span> <span class="na">id=</span><span class="s">"1"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;direction&gt;</span> [-1.0, 0.0, 0.0] <span class="nt">&lt;/direction&gt;</span>
      <span class="nt">&lt;position&gt;</span> [100.0, 0.0, 25.0] <span class="nt">&lt;/position&gt;</span>
    <span class="nt">&lt;/boundary&gt;</span>
    <span class="nt">&lt;boundary</span> <span class="na">type=</span><span class="s">"plane"</span> <span class="na">id=</span><span class="s">"2"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;direction&gt;</span> [1.0, 0.0, 0.0] <span class="nt">&lt;/direction&gt;</span>
      <span class="nt">&lt;position&gt;</span> [100.0, 0.0, 25.0] <span class="nt">&lt;/position&gt;</span>
    <span class="nt">&lt;/boundary&gt;</span>
    <span class="nt">&lt;boundary</span> <span class="na">type=</span><span class="s">"plane"</span> <span class="na">id=</span><span class="s">"3"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;direction&gt;</span> [0.0, -1.0, 0.0] <span class="nt">&lt;/direction&gt;</span>
      <span class="nt">&lt;position&gt;</span> [50.0, -1.0, 25.0] <span class="nt">&lt;/position&gt;</span>
    <span class="nt">&lt;/boundary&gt;</span>
    <span class="nt">&lt;boundary</span> <span class="na">type=</span><span class="s">"plane"</span> <span class="na">id=</span><span class="s">"4"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;direction&gt;</span> [0.0, 1.0, 0.0] <span class="nt">&lt;/direction&gt;</span>
      <span class="nt">&lt;position&gt;</span> [50.0, 1.0, 25.0] <span class="nt">&lt;/position&gt;</span>
    <span class="nt">&lt;/boundary&gt;</span>
    <span class="nt">&lt;boundary</span> <span class="na">type=</span><span class="s">"plane"</span> <span class="na">id=</span><span class="s">"5"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;direction&gt;</span> [0.0, 0.0, -1.0] <span class="nt">&lt;/direction&gt;</span>
      <span class="nt">&lt;position&gt;</span> [50.0, 0.0, 0.0] <span class="nt">&lt;/position&gt;</span>
    <span class="nt">&lt;/boundary&gt;</span>
    <span class="nt">&lt;boundary</span> <span class="na">type=</span><span class="s">"plane"</span> <span class="na">id=</span><span class="s">"6"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;direction&gt;</span> [0.0, 0.0, 1.0] <span class="nt">&lt;/direction&gt;</span>
      <span class="nt">&lt;position&gt;</span> [50.0, 0.0, 50.0] <span class="nt">&lt;/position&gt;</span>
    <span class="nt">&lt;/boundary&gt;</span>
  <span class="nt">&lt;/Boundary&gt;</span></code></pre></figure>

<p>Though this file is more verbose that the original, the user does not have to read the 
source code to understand the format of the file and what the various numbers mean.
The challenge for mechanics researchers is parsing and reading that sort of format.
Below I’ll show you how that’s done quickly and easily with modern C++.</p>

<h5 id="reading-xml">Reading XML</h5>
<p>For production codes such as <a href="https://github.com/bbanerjee/ParSim/tree/master/Vaango">Vaango</a> we use full featured libraries such as <a href="https://xerces.apache.org/xerces-c/">Xerces</a> or <a href="http://xmlsoft.org/">LibXml2</a>.  However, for research codes, there are a number of simpler alternatives.  I prefer the header-only style provided by <a href="http://zenxml.sourceforge.net/">ZenXml</a>.</p>

<p>The reader code is quite straightforward.  Let’s encapsulate it in the class
<code class="language-plaintext highlighter-rouge">BoundaryReader</code>.</p>

<p>First, the header <code class="language-plaintext highlighter-rouge">BoundaryReader.h</code></p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#ifndef BOUNDARY_READER_H
#define BOUNDARY_READER_H
</span>
<span class="k">class</span> <span class="nc">BoundaryReader</span>
<span class="p">{</span>
<span class="nl">public:</span>
  <span class="n">BoundaryReader</span><span class="p">()</span> <span class="o">=</span> <span class="k">default</span><span class="p">;</span>
  <span class="o">~</span><span class="n">BoundaryReader</span><span class="p">()</span> <span class="o">=</span> <span class="k">default</span><span class="p">;</span>
  <span class="kt">bool</span> <span class="n">readXML</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">inputFileName</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span> 
<span class="nl">private:</span>
  <span class="n">BoundaryReader</span><span class="p">(</span><span class="n">BoundaryReader</span> <span class="k">const</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">=</span> <span class="k">delete</span><span class="p">;</span> <span class="c1">// don't implement</span>
  <span class="kt">void</span> <span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="n">BoundaryReader</span> <span class="k">const</span><span class="o">&amp;</span><span class="p">)</span> <span class="o">=</span> <span class="k">delete</span><span class="p">;</span> <span class="c1">// don't implement</span>
<span class="p">};</span>

<span class="cp">#endif</span></code></pre></figure>

<p>and then the implementation <code class="language-plaintext highlighter-rouge">BoundaryReader.cc</code></p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><span class="cp">#include &lt;BoundaryReader.h&gt;
#include &lt;zenxml/xml.h&gt;
</span><span class="kt">bool</span>
<span class="n">BoundaryReader</span><span class="o">::</span><span class="n">readXML</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">inputFileName</span><span class="p">)</span> <span class="k">const</span> 
<span class="p">{</span>
  <span class="c1">// Read the input file</span>
  <span class="n">zen</span><span class="o">::</span><span class="n">XmlDoc</span> <span class="n">docs</span><span class="p">;</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Input file name= "</span> <span class="o">&lt;&lt;</span> <span class="n">inputFileName</span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
    <span class="n">docs</span> <span class="o">=</span> <span class="n">zen</span><span class="o">::</span><span class="n">load</span><span class="p">(</span><span class="n">inputFileName</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="k">const</span> <span class="n">zen</span><span class="o">::</span><span class="n">XmlFileError</span><span class="o">&amp;</span> <span class="n">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"*ERROR** Could not read input file "</span> <span class="o">&lt;&lt;</span> <span class="n">inputFileName</span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"    Error # = "</span> <span class="o">&lt;&lt;</span> <span class="n">err</span><span class="p">.</span><span class="n">lastError</span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
    <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="k">const</span> <span class="n">zen</span><span class="o">::</span><span class="n">XmlParsingError</span><span class="o">&amp;</span> <span class="n">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"*ERROR** Could not read input file "</span> <span class="o">&lt;&lt;</span> <span class="n">inputFileName</span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"    Parse Error in line: "</span> <span class="o">&lt;&lt;</span> <span class="n">err</span><span class="p">.</span><span class="n">row</span> <span class="o">+</span> <span class="mi">1</span>
              <span class="o">&lt;&lt;</span> <span class="s">" col: "</span> <span class="o">&lt;&lt;</span> <span class="n">err</span><span class="p">.</span><span class="n">col</span> <span class="o">&lt;&lt;</span> <span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
    <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// Load the docsument into input proxy for easier element access</span>
  <span class="n">zen</span><span class="o">::</span><span class="n">XmlIn</span> <span class="n">ps</span><span class="p">(</span><span class="n">docs</span><span class="p">);</span>

  <span class="c1">// Read the boundary information</span>
  <span class="k">auto</span> <span class="n">boundary_ps</span> <span class="o">=</span> <span class="n">ps</span><span class="p">[</span><span class="s">"Boundary"</span><span class="p">];</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">boundary_ps</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"**ERROR** &lt;Boundary&gt; tag not found. </span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
    <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// Read the container dimensions</span>
  <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">vecStr</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">boundary_ps</span><span class="p">[</span><span class="s">"containerMin"</span><span class="p">](</span><span class="n">vecStr</span><span class="p">))</span> <span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span>
      <span class="o">&lt;&lt;</span> <span class="s">"**ERROR** Container min. position not found in boundary geometry</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"  Add the &lt;containerMin&gt; [x, y, z] &lt;/containerMin&gt; tag."</span><span class="p">;</span>
    <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="n">Vec</span> <span class="n">boxMin</span> <span class="o">=</span> <span class="n">Vec</span><span class="o">::</span><span class="n">fromString</span><span class="p">(</span><span class="n">vecStr</span><span class="p">);</span> <span class="c1">// Convert the string [x, y, z]</span>

  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">boundary_ps</span><span class="p">[</span><span class="s">"containerMax"</span><span class="p">](</span><span class="n">vecStr</span><span class="p">))</span> <span class="p">{</span>
    <span class="p">....</span>
    <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="n">Vec</span> <span class="n">boxMax</span> <span class="o">=</span> <span class="n">Vec</span><span class="o">::</span><span class="n">fromString</span><span class="p">(</span><span class="n">vecStr</span><span class="p">);</span> <span class="c1">// Convert the string [x, y, z]</span>

  <span class="c1">// Read each boundary</span>
  <span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="n">bound_ps</span> <span class="o">=</span> <span class="n">boundary_ps</span><span class="p">[</span><span class="s">"boundary"</span><span class="p">];</span> <span class="n">bound_ps</span><span class="p">;</span> <span class="n">bound_ps</span><span class="p">.</span><span class="n">next</span><span class="p">())</span> <span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">boundaryType</span><span class="p">;</span>
    <span class="n">bound_ps</span><span class="p">.</span><span class="n">attribute</span><span class="p">(</span><span class="s">"type"</span><span class="p">,</span> <span class="n">boundaryType</span><span class="p">);</span>
    <span class="n">BoundaryId</span> <span class="n">id</span><span class="p">;</span>
    <span class="n">bound_ps</span><span class="p">.</span><span class="n">attribute</span><span class="p">(</span><span class="s">"id"</span><span class="p">,</span> <span class="n">id</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">bound_ps</span><span class="p">[</span><span class="s">"direction"</span><span class="p">](</span><span class="n">vecStr</span><span class="p">))</span> <span class="p">{</span>
      <span class="p">....</span>
      <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">Vec</span> <span class="n">direction</span> <span class="o">=</span> <span class="n">Vec</span><span class="o">::</span><span class="n">fromString</span><span class="p">(</span><span class="n">vecStr</span><span class="p">);</span> <span class="c1">// Convert the string into a vector</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">bound_ps</span><span class="p">[</span><span class="s">"position"</span><span class="p">](</span><span class="n">vecStr</span><span class="p">))</span> <span class="p">{</span>
      <span class="p">....</span>
      <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">Vec</span> <span class="n">position</span> <span class="o">=</span> <span class="n">Vec</span><span class="o">::</span><span class="n">fromString</span><span class="p">(</span><span class="n">vecStr</span><span class="p">);</span> <span class="c1">// Convert the string into a vector</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<p>Of course, if you want to use the data that you have read, you will have to 
save them.  That’s left as an exercise for the reader.  As you can see, reading
a XML file can be quite straightforward and you have checks on the validity of
your file along each step of the reading process.</p>

<h4 id="conclusion">Conclusion</h4>
<p>I recommend shifting the XML or some other similar structured format for 
the input files in your research codes.  However, you may think that the
XML format is too verbose.  In that case I’d suggest using <a href="http://www.json.org/">JSON</a>
and in a future post I’ll show you how to read JSON in C++.</p>

<p>If you have questions/comments/corrections, please contact banerjee at parresianz dot com dot zen (without the dot zen).</p>


        
      </section>

      <footer class="page__meta">
        
        


  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/ParSim/categories/#c" class="page__taxonomy-item" rel="tag">C++</a><span class="sep">, </span>
    
      
      
      <a href="/ParSim/categories/#xml" class="page__taxonomy-item" rel="tag">XML</a>
    
    </span>
  </p>


        
  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2017-02-14T22:30:00+13:00">February 14, 2017</time></p>


      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?text=Input+files%3A+Reading+XML%20https%3A%2F%2Fbbanerjee.github.io%2FParSim%2Fc%2B%2B%2Fxml%2Fxml-input%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fbbanerjee.github.io%2FParSim%2Fc%2B%2B%2Fxml%2Fxml-input%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fbbanerjee.github.io%2FParSim%2Fc%2B%2B%2Fxml%2Fxml-input%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/ParSim/c++/command-pattern/" class="pagination--pager" title="Command pattern for regression testing
">Previous</a>
    
    
      <a href="/ParSim/c++/json/json-input/" class="pagination--pager" title="Reading JSON in C++
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You may also enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/ParSim/fem/meshing/gmsh/gmsh-meshing-for-code-aster/" rel="permalink">Meshes with different element topologies in gmsh (for Code-Aster)
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          39 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">We have been translating a few Code-Aster verification test manuals into English.
The process is not just a straightforward translation of the text in the Fr...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/ParSim/fem/meshing/gmsh/quadrlateral-meshing-with-gmsh/" rel="permalink">Creating quadrilateral surface meshes with gmsh
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          21 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">The Code-Aster cooling tower modal analysis validation test
FORMA11c comes with a quadrilateral mesh provided by Code-Aster.
Tips on quadrilateral meshing wi...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/ParSim/fem/cracks/python/salome-meca/code-aster/inspecting-and-manipulating-meshes/" rel="permalink">Inspecting and manipulating meshes in Salome-Meca for Code-Aster
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          30 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">In this article, I will discuss how elements can be selected from deep inside a 3D mesh
in the Salome-Meca environment and manipulated with Python scripts.

</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/ParSim/vaango/compiling-vaango-on-a-cray/" rel="permalink">Compiling and running the MPM code Vaango on a Cray
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          16 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Introduction

One of the reasons I switched to cmake for my builds was the need to compile my
Vaango code on a BlueGene/Q system.  The code was previously co...</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
      
        
      
    

    <li><a href="/ParSim/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2022 Biswajit Banerjee. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/ParSim/assets/js/main.min.js"></script>










  </body>
</html>
